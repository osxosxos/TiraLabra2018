<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fi"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Funktiot.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">TiraLabraGradle</a> &gt; <a href="index.source.html" class="el_package">default</a> &gt; <span class="el_source">Funktiot.java</span></div><h1>Funktiot.java</h1><pre class="source lang-java linenums">
import java.util.Random;

/**
 * TÃ¤stÃ¤ luokasta lÃ¶ytyvÃ¤t pelissÃ¤ tarvittavat toiminnot.
 *
 * @author Oskari Koskinen
 */
public class Funktiot {

<span class="fc" id="L11">    public Funktiot() {</span>

<span class="fc" id="L13">    }</span>

    /**
     * Funktio arpoo pelin aluksi satunnaisen mÃ¤Ã¤rÃ¤n linnoja ja peltoja pinoon.
     * Pelto on numero 1 ja linna on 2.
     *
     * @param koko Kertoo pelissÃ¤ olevien laattojen mÃ¤Ã¤rÃ¤n.
     * @return Funktio palauttaa valmiiksi sekoitetun pinon.
     */
    public Pino taytaPakka(int koko) {

<span class="fc" id="L24">        Pino laatat = new Pino();</span>

<span class="fc" id="L26">        Random random = new Random();</span>

<span class="fc bfc" id="L28" title="All 2 branches covered.">        for (int i = 0; i &lt; koko; i++) {</span>

<span class="fc" id="L30">            int pala = random.nextInt(2);</span>

<span class="fc bfc" id="L32" title="All 2 branches covered.">            if (pala == 0) {</span>
<span class="fc" id="L33">                laatat.push(1);</span>
            }

<span class="fc bfc" id="L36" title="All 2 branches covered.">            if (pala == 1) {</span>
<span class="fc" id="L37">                laatat.push(2);</span>
            }

        }

<span class="fc" id="L42">        return laatat;</span>
    }

    /**
     * Tarkistaa, ettÃ¤ ruutu ei ole ruudukon ulkopuolella.
     *
     * @param rivi Rivi, johon halutaan mennÃ¤.
     * @param sarake Sarake, johon halutaan mennÃ¤.
     * @param koko Laudan koko.
     * @return Palauttaa boolean arvon, joka kertoo onko ruutu pelilaudan
     * ulkopuolella.
     */
    public boolean voikoMenna(int rivi, int sarake, int koko) {
<span class="fc bfc" id="L55" title="All 8 branches covered.">        return (rivi &gt;= 0 &amp;&amp; rivi &lt; koko &amp;&amp; sarake &gt;= 0 &amp;&amp; sarake &lt; koko);</span>
    }

    /**
     * Tarkistaa, ettÃ¤ ruutu on tyhjÃ¤, eli siinÃ¤ ei ole linnaa tai peltoa.
     *
     * @param rivi Rivi jossa ruutu sijaitsee.
     * @param sarake Sarake, jossa ruutu sijaitsee.
     * @param lauta Pelin tilanne.
     * @return Palauttaa boolean arvon, joka kertoo onko ruudun arvo nolla.
     */
    public boolean onkoVapaa(int rivi, int sarake, int[][] lauta) {
<span class="fc bfc" id="L67" title="All 2 branches covered.">        return lauta[rivi][sarake] == 0;</span>
    }

    /**
     * Asettaa laatan kartalle
     *
     * @param rivi Rivi, johon laatta halutaan asettaa.
     * @param sarake Sarake, johon laatta halutaan asettaa.
     * @param laatta Laatta, joka halutaan pelata, pelto(1) tai linna(2).
     * @param lauta Pelin tilanne ennne laatan asettamista.
     * @return Palauttaa pelitilanteen laatan sijoittamisen jÃ¤lkeen.
     */
    public int[][] asetaLaatta(int rivi, int sarake, int laatta, int[][] lauta) {
<span class="fc" id="L80">        lauta[rivi][sarake] = laatta;</span>
<span class="fc" id="L81">        return lauta;</span>
    }

    /**
     * Funktio asettaa kartalle pelaajan numeroa vastaavan seuraajan.
     *
     * @param rivi Rivi, jossa haluttu ruutu on.
     * @param sarake Sarake, jossa halutta ruutu on.
     * @param pelaaja MinkÃ¤ pelaajan seuraaja ruutuun ollaan asettamassa.
     * @param lauta Pelitilanne ennen seuraajan asettamista.
     * @return Palauttaa pelitilanteen johon on laitettu pelaajan seuraaja.
     */
    public int[][] asetaSeuraaja(int rivi, int sarake, int pelaaja, int[][] lauta) {
<span class="fc" id="L94">        lauta[rivi][sarake] = pelaaja;</span>
<span class="fc" id="L95">        return lauta;</span>
    }

    /**
     * Funktio saa syÃ¶tteeksi kaksirivisen taulun. EnsimmÃ¤isellÃ¤ rivillÃ¤ on
     * pelaajien numerot, toisella heidÃ¤n seuraajien mÃ¤Ã¤rÃ¤t. Funktio poistaa
     * annetulta pelaajata yhden seuraajan.
     *
     * @param pelaaja Pelaaja, jolta seuraaja pitÃ¤Ã¤ poistaa.
     * @param pelaajia PelissÃ¤ olevien pelaajien mÃ¤Ã¤rÃ¤.
     * @param seuraajat Taulu, joka kertoo pelaajilla olevien seuraajien mÃ¤Ã¤rÃ¤t.
     * @return Palauttaa taulun, josta parametrina annetulta pelaajalta on
     * poistettu yksi seuraaja.
     */
    public int[][] otaPelaajaltaSeuraaja(int pelaaja, int pelaajia, int[][] seuraajat) {

<span class="fc" id="L111">        int pelaajanSeuraajat = 0;</span>

<span class="fc bfc" id="L113" title="All 2 branches covered.">        for (int i = 0; i &lt; pelaajia; i++) {</span>
<span class="fc bfc" id="L114" title="All 2 branches covered.">            if (seuraajat[0][i] == pelaaja) {</span>
<span class="fc" id="L115">                pelaajanSeuraajat = seuraajat[1][i];</span>
            }
        }

<span class="fc bfc" id="L119" title="All 2 branches covered.">        if (pelaajanSeuraajat &gt; 0) {</span>
<span class="fc bfc" id="L120" title="All 2 branches covered.">            for (int i = 0; i &lt; pelaajia; i++) {</span>
<span class="fc bfc" id="L121" title="All 2 branches covered.">                if (seuraajat[0][i] == pelaaja) {</span>
<span class="fc" id="L122">                    pelaajanSeuraajat = seuraajat[1][i] - 1;</span>
<span class="fc" id="L123">                    seuraajat[1][i] = pelaajanSeuraajat;</span>
                }
            }
        }

<span class="fc" id="L128">        return seuraajat;</span>
    }

    /**
     * Tulostaa pelitilanteen.
     *
     * @param lauta TÃ¤mÃ¤n hetkinen pelitilanne.
     */
    public void tulostaKartta(int[][] lauta) {

<span class="fc bfc" id="L138" title="All 2 branches covered.">        for (int i = 0; i &lt; lauta.length; i++) {</span>
<span class="fc bfc" id="L139" title="All 2 branches covered.">            for (int j = 0; j &lt; lauta.length; j++) {</span>
<span class="fc" id="L140">                System.out.format(&quot;%5d&quot;, lauta[i][j]);</span>
            }
<span class="fc" id="L142">            System.out.println();</span>
        }

<span class="fc" id="L145">    }</span>

    /**
     * Luo kopion pelilaudasta, jotta alkuperÃ¤inen ei muuttuisi.
     *
     * @param lauta
     * @return Palauttaa kopion pelilaudasta.
     */
    public int[][] kopioiKartta(int[][] lauta) {

<span class="fc" id="L155">        int[][] kopio = new int[lauta.length][lauta.length];</span>

<span class="fc bfc" id="L157" title="All 2 branches covered.">        for (int i = 0; i &lt; lauta.length; i++) {</span>
<span class="fc bfc" id="L158" title="All 2 branches covered.">            for (int j = 0; j &lt; lauta.length; j++) {</span>
<span class="fc" id="L159">                kopio[i][j] = lauta[i][j];</span>
            }
        }

<span class="fc" id="L163">        return kopio;</span>
    }

    /**
     * Luo kopion boolean ruudukosta, jotta alkuperÃ¤inen ei muuttuisi.
     *
     * @param kaydyt
     * @return palauttaa kopioidun boolean ruudukon.
     */
    public boolean[][] kopioiBoolean(boolean[][] kaydyt) {

<span class="fc" id="L174">        boolean[][] kopio = new boolean[kaydyt.length][kaydyt.length];</span>

<span class="fc bfc" id="L176" title="All 2 branches covered.">        for (int i = 0; i &lt; kaydyt.length; i++) {</span>
<span class="fc bfc" id="L177" title="All 2 branches covered.">            for (int j = 0; j &lt; kaydyt.length; j++) {</span>
<span class="fc" id="L178">                kopio[i][j] = kaydyt[i][j];</span>
            }
        }

<span class="fc" id="L182">        return kopio;</span>
    }

    /**
     * Luo taulun, jossa on pelaajien numerot.
     *
     * @param pelaajat
     * @return Palauttaa taulun, jossa on pelaajien numerot.
     */
    public int[] luoPelaajaTaulu(int pelaajat) {

<span class="fc" id="L193">        int[] pelaajaTaulu = new int[pelaajat];</span>

<span class="fc" id="L195">        int k = 3;</span>

<span class="fc bfc" id="L197" title="All 2 branches covered.">        for (int i = 0; i &lt; pelaajat; i++) {</span>
<span class="fc" id="L198">            pelaajaTaulu[i] = k;</span>
<span class="fc" id="L199">            k++;</span>
        }

<span class="fc" id="L202">        return pelaajaTaulu;</span>
    }

    /**
     * Luo uuden taulun, jossa ensimmÃ¤isellÃ¤ rivillÃ¤ on pelaanjien numerot.
     * Toisella rivillÃ¤ on mielivaltaista informaatiota tilanteen mukaan. Muu
     * informaatio annetaan muissa funktioissa, tÃ¤ssÃ¤ se on nollaa.
     *
     * @param pelaajat
     * @return Palauttaa taulun, jossa ensimmÃ¤isellÃ¤ rivillÃ¤ on pelaajien
     * numerot ja toisella nollia.
     */
    public int[][] luoPistetaulu(int[] pelaajat) {
<span class="fc" id="L215">        int[][] pistetaulu = new int[2][pelaajat.length];</span>
<span class="fc bfc" id="L216" title="All 2 branches covered.">        for (int i = 0; i &lt; pelaajat.length; i++) {</span>
<span class="fc" id="L217">            pistetaulu[0][i] = pelaajat[i];</span>
        }
<span class="fc" id="L219">        return pistetaulu;</span>
    }

    /**
     * Tulostaa kÃ¤ytyjen ruutujen ruudukon.
     *
     * @param lauta TÃ¤mÃ¤n hetkinen pelitilanne.
     */
    public void tulostaBoolean(boolean[][] lauta) {

<span class="fc bfc" id="L229" title="All 2 branches covered.">        for (int i = 0; i &lt; lauta.length; i++) {</span>
<span class="fc bfc" id="L230" title="All 2 branches covered.">            for (int j = 0; j &lt; lauta.length; j++) {</span>
<span class="fc bfc" id="L231" title="All 2 branches covered.">                if (lauta[i][j] == true) {</span>
<span class="fc" id="L232">                    System.out.print(&quot;T  &quot;);</span>
                } else {
<span class="fc" id="L234">                    System.out.print(&quot;F  &quot;);</span>
                }
            }
<span class="fc" id="L237">            System.out.println();</span>
        }
<span class="fc" id="L239">    }</span>

    /**
     * Funktio tarkistaa, ettÃ¤ linnassa ei ole kenenkÃ¤Ã¤n pelaajan seuraajia.
     *
     * @param rivi Rivi, josta lÃ¤hdetÃ¤Ã¤n.
     * @param sarake Sarake, josta lÃ¤hdetÃ¤Ã¤n.
     * @param lauta Pelitilanne, jota tarkastellaan.
     * @return Paluttaa true, jos linnasta lÃ¶ytyy arvo, joka on &gt; 2.
     */
    public boolean onkoLinnassaJoSeuraaja(int rivi, int sarake, int[][] lauta) {

<span class="fc bfc" id="L251" title="All 2 branches covered.">        if (lauta[rivi][sarake] &gt; 2) {</span>
<span class="fc" id="L252">            return true;</span>
        }

<span class="fc" id="L255">        boolean[][] kaydyt = new boolean[lauta.length][lauta.length];</span>

<span class="fc" id="L257">        Pino pino = new Pino();</span>

<span class="fc" id="L259">        int[] eka = new int[]{rivi, sarake};</span>

<span class="fc" id="L261">        pino.push(eka);</span>

<span class="fc" id="L263">        int[] rivit = new int[]{1, 0, -1, 0};</span>
<span class="fc" id="L264">        int[] sarakkeet = new int[]{0, 1, 0, -1};</span>

<span class="fc bfc" id="L266" title="All 2 branches covered.">        while (!pino.empty()) {</span>

<span class="fc" id="L268">            int[] edellinen = (int[]) pino.pop();</span>

<span class="fc" id="L270">            kaydyt[edellinen[0]][edellinen[1]] = true;</span>

<span class="fc bfc" id="L272" title="All 2 branches covered.">            for (int i = 0; i &lt; rivit.length; i++) {</span>

<span class="fc" id="L274">                int uusiRivi = edellinen[0] + rivit[i];</span>
<span class="fc" id="L275">                int uusiSarake = edellinen[1] + sarakkeet[i];</span>

<span class="fc bfc" id="L277" title="All 2 branches covered.">                if (voikoMenna(uusiRivi, uusiSarake, lauta.length)) {</span>

<span class="fc bfc" id="L279" title="All 2 branches covered.">                    if (lauta[uusiRivi][uusiSarake] &gt; 2) {</span>
<span class="fc" id="L280">                        return true;</span>
<span class="fc bfc" id="L281" title="All 2 branches covered.">                    } else if (lauta[uusiRivi][uusiSarake] == 2) {</span>
<span class="fc" id="L282">                        int[] uusi = new int[]{uusiRivi, uusiSarake};</span>
<span class="fc bfc" id="L283" title="All 2 branches covered.">                        if (kaydyt[uusi[0]][uusi[1]] == false) {</span>
<span class="fc" id="L284">                            pino.push(uusi);</span>
                        }
                    }
                }
            }
<span class="fc" id="L289">        }</span>
<span class="fc" id="L290">        return false;</span>
    }

    /**
     * Apumetodi, joka merkitsee, ettÃ¤ linna on jo pisteytetty. Funktio
     * merkitsee arvon true jokaiseen kohtaan, josta pelaajat ovat saaneet jo
     * pisteet. 
     *
     * @param rivi Rivi, josta lÃ¤hdetÃ¤Ã¤n.
     * @param sarake Sarake, josta lÃ¤hdetÃ¤Ã¤n.
     * @param lauta Pelitilanne, jota tarkastellaan.
     * @param kaydyt Pisteytetyt ruudut ennen funktion kutsua.
     * @return Palauttaa pisteytysruudukon, jossa linna on jo merkitty
     * pisteytetyksi.
     */
    public boolean[][] merkitseLinnaPisteytetyksi(int rivi, int sarake, int[][] lauta, boolean[][] kaydyt) {

<span class="fc" id="L307">        Pino pino = new Pino();</span>

<span class="fc" id="L309">        int[] eka = new int[]{rivi, sarake};</span>

<span class="fc" id="L311">        pino.push(eka);</span>

<span class="fc" id="L313">        int[] rivit = new int[]{1, 0, -1, 0};</span>
<span class="fc" id="L314">        int[] sarakkeet = new int[]{0, 1, 0, -1};</span>

<span class="fc bfc" id="L316" title="All 2 branches covered.">        while (!pino.empty()) {</span>
<span class="fc" id="L317">            int[] edellinen = (int[]) pino.pop();</span>

<span class="fc bfc" id="L319" title="All 2 branches covered.">            if (kaydyt[edellinen[0]][edellinen[1]] == false) {</span>
<span class="fc" id="L320">                kaydyt[edellinen[0]][edellinen[1]] = true;</span>
            }

<span class="fc bfc" id="L323" title="All 2 branches covered.">            for (int i = 0; i &lt; rivit.length; i++) {</span>

<span class="fc" id="L325">                int uusiRivi = edellinen[0] + rivit[i];</span>
<span class="fc" id="L326">                int uusiSarake = edellinen[1] + sarakkeet[i];</span>

<span class="fc bfc" id="L328" title="All 2 branches covered.">                if (voikoMenna(uusiRivi, uusiSarake, lauta.length)) {</span>
<span class="fc bfc" id="L329" title="All 2 branches covered.">                    if (kaydyt[uusiRivi][uusiSarake] == false) {</span>
<span class="fc bfc" id="L330" title="All 2 branches covered.">                        if (lauta[uusiRivi][uusiSarake] &gt; 1) {</span>
<span class="fc" id="L331">                            int[] uusi = new int[]{uusiRivi, uusiSarake};</span>
<span class="fc" id="L332">                            pino.push(uusi);</span>
                        }
                    }
                }
            }

<span class="fc" id="L338">        }</span>

<span class="fc" id="L340">        return kaydyt;</span>
    }

    /**
     * Apumetodi, joka laskee yksittÃ¤isen linnan pisteet. PisteitÃ¤ saa yhden
     * jokaista ruutua kohden.
     *
     * @param rivi Rivi, josta lÃ¤hdetÃ¤Ã¤n liikkeelle.
     * @param sarake Sarake, josta lÃ¤hdetÃ¤Ã¤n liikkeelle.
     * @param lauta Pelitilanne, ennen funktion kutsumista.
     * @return Palauttaa lÃ¤htÃ¶ruudusta lÃ¤htevÃ¤n linnan pisteet, eli linnan koon
     * ruutuina.
     */
    public int linnanPisteet(int rivi, int sarake, int[][] lauta) {

<span class="fc bfc" id="L355" title="All 2 branches covered.">        if (lauta[rivi][sarake] &lt; 2) {</span>
<span class="fc" id="L356">            return 0;</span>
        }

<span class="fc" id="L359">        int pisteet = 0;</span>

<span class="fc" id="L361">        boolean[][] kaydyt = new boolean[lauta.length][lauta.length];</span>

<span class="fc" id="L363">        Pino pino = new Pino();</span>

<span class="fc" id="L365">        int[] eka = new int[]{rivi, sarake};</span>

<span class="fc" id="L367">        pino.push(eka);</span>

<span class="fc" id="L369">        int[] rivit = new int[]{1, 0, -1, 0};</span>
<span class="fc" id="L370">        int[] sarakkeet = new int[]{0, 1, 0, -1};</span>

<span class="fc bfc" id="L372" title="All 2 branches covered.">        while (!pino.empty()) {</span>
<span class="fc" id="L373">            int[] edellinen = (int[]) pino.pop();</span>

<span class="fc bfc" id="L375" title="All 2 branches covered.">            if (kaydyt[edellinen[0]][edellinen[1]] == false) {</span>
<span class="fc" id="L376">                pisteet++;</span>
            }

<span class="fc" id="L379">            kaydyt[edellinen[0]][edellinen[1]] = true;</span>

<span class="fc bfc" id="L381" title="All 2 branches covered.">            for (int i = 0; i &lt; rivit.length; i++) {</span>

<span class="fc" id="L383">                int uusiRivi = edellinen[0] + rivit[i];</span>
<span class="fc" id="L384">                int uusiSarake = edellinen[1] + sarakkeet[i];</span>

<span class="fc bfc" id="L386" title="All 2 branches covered.">                if (voikoMenna(uusiRivi, uusiSarake, lauta.length)) {</span>
<span class="fc bfc" id="L387" title="All 2 branches covered.">                    if (kaydyt[uusiRivi][uusiSarake] == false) {</span>
<span class="fc bfc" id="L388" title="All 2 branches covered.">                        if (lauta[uusiRivi][uusiSarake] &gt; 1) {</span>
<span class="fc" id="L389">                            int[] uusi = new int[]{uusiRivi, uusiSarake};</span>
<span class="fc" id="L390">                            pino.push(uusi);</span>
                        }
                    }
                }

            }
<span class="fc" id="L396">        }</span>

<span class="fc" id="L398">        return pisteet;</span>
    }

    /**
     * Pelin aikana linnoja tulee valmiiksi ja niistÃ¤ poistetaan seuraajat. TÃ¤mÃ¤
     * funktio ainoastaan poistaa linnasta seuraajat. Seuraajien palauttaminen
     * pelaajille on muiden funktioiden vastuulla.
     *
     * @param rivi Rivi, josta linna alkaa.
     * @param sarake Sarake, josta linna alkaa.
     * @param lauta Pelitilanne, ennen kuin seuraajia aletaan poistamaan.
     * @return Palauttaa pÃ¤ivitetyn pelitilanteen, josta parametrina annetusta
     * linnasta on poistettu seuraajat, eli jokainen ruutu, jonka arvo &gt; 2.
     */
    public int[][] poistaSeuraajat(int rivi, int sarake, int[][] lauta) {

<span class="fc bfc" id="L414" title="All 2 branches covered.">        if (lauta[rivi][sarake] &lt; 2) {</span>
<span class="fc" id="L415">            return lauta;</span>
        }

<span class="fc bfc" id="L418" title="All 2 branches covered.">        if (!onValmis(rivi, sarake, lauta)) {</span>
<span class="fc" id="L419">            return lauta;</span>
        }

<span class="fc" id="L422">        boolean[][] kaydyt = new boolean[lauta.length][lauta.length];</span>

<span class="fc" id="L424">        Pino pino = new Pino();</span>

<span class="fc" id="L426">        int[] eka = new int[]{rivi, sarake};</span>

<span class="fc" id="L428">        pino.push(eka);</span>

<span class="fc" id="L430">        int[] rivit = new int[]{1, 0, -1, 0};</span>
<span class="fc" id="L431">        int[] sarakkeet = new int[]{0, 1, 0, -1};</span>

<span class="fc bfc" id="L433" title="All 2 branches covered.">        while (!pino.empty()) {</span>
<span class="fc" id="L434">            int[] edellinen = (int[]) pino.pop();</span>

<span class="fc bfc" id="L436" title="All 2 branches covered.">            if (lauta[edellinen[0]][edellinen[1]] &gt; 2) {</span>
<span class="fc" id="L437">                lauta[edellinen[0]][edellinen[1]] = 2;</span>
            }

<span class="fc" id="L440">            kaydyt[edellinen[0]][edellinen[1]] = true;</span>

<span class="fc bfc" id="L442" title="All 2 branches covered.">            for (int i = 0; i &lt; rivit.length; i++) {</span>

<span class="fc" id="L444">                int uusiRivi = edellinen[0] + rivit[i];</span>
<span class="fc" id="L445">                int uusiSarake = edellinen[1] + sarakkeet[i];</span>

<span class="fc bfc" id="L447" title="All 2 branches covered.">                if (voikoMenna(uusiRivi, uusiSarake, lauta.length)) {</span>
<span class="fc bfc" id="L448" title="All 2 branches covered.">                    if (kaydyt[uusiRivi][uusiSarake] == false) {</span>
<span class="fc bfc" id="L449" title="All 2 branches covered.">                        if (lauta[uusiRivi][uusiSarake] &gt; 1) {</span>
<span class="fc" id="L450">                            int[] uusi = new int[]{uusiRivi, uusiSarake};</span>
<span class="fc" id="L451">                            pino.push(uusi);</span>
                        }
                    }
                }

            }
<span class="fc" id="L457">        }</span>

<span class="fc" id="L459">        return lauta;</span>
    }

    /**
     * Funktio tarkistaa, ettÃ¤ lÃ¤htÃ¶ruudusta lÃ¤htevÃ¤ linna on kokonaan peltojen,
     * eli ruutujen joiden arvo on 1, ympÃ¤rÃ¶imÃ¤.
     *
     * @param rivi Rivi, josta lÃ¤htetÃ¤Ã¤n liikkeelle.
     * @param sarake Sarake, josta lÃ¤hdetÃ¤Ã¤n liikkeelle.
     * @param lauta Pelitilanne tÃ¤llÃ¤ hetkellÃ¤.
     * @return Funktio palauttaa arvon true, jos ei lÃ¶ydy yhtÃ¤Ã¤n sellaista
     * ruutua, jonka ylÃ¤, ala, vasemmalla ja oikealla puolella ei olisi arvoa 1.
     */
    public boolean onValmis(int rivi, int sarake, int[][] lauta) {
<span class="fc" id="L473">        boolean[][] kaydyt = new boolean[lauta.length][lauta.length];</span>

<span class="fc bfc" id="L475" title="All 2 branches covered.">        if (lauta[rivi][sarake] &lt; 2) {</span>
<span class="fc" id="L476">            return false;</span>
        }

<span class="fc" id="L479">        Pino pino = new Pino();</span>

<span class="fc" id="L481">        int[] eka = new int[]{rivi, sarake};</span>

<span class="fc" id="L483">        pino.push(eka);</span>

<span class="fc" id="L485">        int[] rivit = new int[]{1, 0, -1, 0};</span>
<span class="fc" id="L486">        int[] sarakkeet = new int[]{0, 1, 0, -1};</span>

<span class="fc bfc" id="L488" title="All 2 branches covered.">        while (!pino.empty()) {</span>

<span class="fc" id="L490">            int[] edellinen = (int[]) pino.pop();</span>

<span class="fc" id="L492">            kaydyt[edellinen[0]][edellinen[1]] = true;</span>

<span class="fc bfc" id="L494" title="All 2 branches covered.">            for (int i = 0; i &lt; rivit.length; i++) {</span>

<span class="fc" id="L496">                int uusiRivi = edellinen[0] + rivit[i];</span>
<span class="fc" id="L497">                int uusiSarake = edellinen[1] + sarakkeet[i];</span>

<span class="fc bfc" id="L499" title="All 2 branches covered.">                if (voikoMenna(uusiRivi, uusiSarake, lauta.length)) {</span>
<span class="fc bfc" id="L500" title="All 2 branches covered.">                    if (lauta[uusiRivi][uusiSarake] == 0) {</span>
<span class="fc" id="L501">                        return false;</span>
<span class="fc bfc" id="L502" title="All 2 branches covered.">                    } else if (kaydyt[uusiRivi][uusiSarake] == false) {</span>
<span class="fc bfc" id="L503" title="All 2 branches covered.">                        if (lauta[uusiRivi][uusiSarake] &gt; 1) {</span>
<span class="fc" id="L504">                            int[] uusi = new int[]{uusiRivi, uusiSarake};</span>
<span class="fc" id="L505">                            pino.push(uusi);</span>
                        }
                    }
                }
            }
<span class="fc" id="L510">        }</span>
<span class="fc" id="L511">        return true;</span>
    }

    /**
     * Tulostaa pistetaulun, jossa ensimmÃ¤isellÃ¤ rivillÃ¤ on pelaajien numerot ja
     * toisella jotain muuta tarpeellista numeerista tietoa, kuten pisteitÃ¤.
     *
     * @param pisteet Parametrina annettava pistetaulu.
     */
    public void tulostaPistetaulu(int[][] pisteet) {

<span class="fc bfc" id="L522" title="All 2 branches covered.">        for (int i = 0; i &lt; 2; i++) {</span>
<span class="fc bfc" id="L523" title="All 2 branches covered.">            for (int j = 0; j &lt; pisteet[0].length; j++) {</span>
<span class="fc" id="L524">                System.out.format(&quot;%4d&quot;, pisteet[i][j]);</span>
            }
<span class="fc" id="L526">            System.out.println();</span>
        }
<span class="fc" id="L528">    }</span>

    /**
     * Funktio laskee montako seuraajaa kullakin pelaajalla on linnassa.
     * PisteitÃ¤ saavat pelaajat, joilla on eniten seuraajia linnassa. Muut
     * pelaajat saavat nolla pistettÃ¤.
     *
     * @param rivi Rivi, josta linna lÃ¤htee.
     * @param sarake Sarake, josta linna lÃ¤htee.
     * @param pelaajat PelissÃ¤ mukana olevat pelaajat.
     * @param lauta TÃ¤mÃ¤n hetkinen pelitilanne.
     * @return Palauttaa kaksiulotteisen taulun, jonka ensimmÃ¤isellÃ¤ rivillÃ¤ on
     * pelaajien numerot ja toisella paljonko pisteitÃ¤ he saavat.
     */
    public int[][] pelaajillePisteetLinnassa(int rivi, int sarake, int[] pelaajat, int lauta[][]) {

<span class="fc" id="L544">        int[][] pisteTaulu = luoPistetaulu(pelaajat);</span>

<span class="fc" id="L546">        int[][] seuraajaTaulu = linnassaOlevatSeuraajat(rivi, sarake, pelaajat, lauta);</span>

<span class="fc" id="L548">        int pisteet = linnanPisteet(rivi, sarake, lauta);</span>

<span class="fc" id="L550">        int maxSeuraajat = 0;</span>

<span class="fc bfc" id="L552" title="All 2 branches covered.">        for (int i = 0; i &lt; pelaajat.length; i++) {</span>

<span class="fc bfc" id="L554" title="All 2 branches covered.">            if (seuraajaTaulu[1][i] &gt; maxSeuraajat) {</span>
<span class="fc" id="L555">                maxSeuraajat = seuraajaTaulu[1][i];</span>
            }
        }

<span class="fc bfc" id="L559" title="All 2 branches covered.">        for (int i = 0; i &lt; pelaajat.length; i++) {</span>
<span class="fc bfc" id="L560" title="All 2 branches covered.">            if (seuraajaTaulu[1][i] == maxSeuraajat) {</span>
<span class="fc" id="L561">                pisteTaulu[1][i] = pisteet;</span>
            }
        }
<span class="fc" id="L564">        return pisteTaulu;</span>
    }

    /**
     * Funktio kertoo kuinka monta seuraajaa kullakin pelaajalla on linnassa.
     *
     * @param rivi Rivi, josta linna alkaa.
     * @param sarake Sarake, josta linna alkaa.
     * @param pelaajat PelissÃ¤ mukana olevat pelaajat.
     * @param lauta Pelitilanne ennen funktion kutsua.
     * @return Palauttaa pistetaulun, jonka ensimmÃ¤isellÃ¤ rivillÃ¤ on pelaajien
     * numerot ja toisella montako seuraajaa heillÃ¤ on lÃ¤htÃ¶ruutuna annetussa
     * linnassa.
     */
    public int[][] linnassaOlevatSeuraajat(int rivi, int sarake, int[] pelaajat, int[][] lauta) {

<span class="fc" id="L580">        int[][] pistetaulu = luoPistetaulu(pelaajat);</span>

<span class="fc" id="L582">        boolean[][] kaydyt = new boolean[lauta.length][lauta.length];</span>

<span class="fc" id="L584">        Pino pino = new Pino();</span>

<span class="fc" id="L586">        int[] eka = new int[]{rivi, sarake};</span>

<span class="fc" id="L588">        pino.push(eka);</span>

<span class="fc" id="L590">        int[] rivit = new int[]{1, 0, -1, 0};</span>
<span class="fc" id="L591">        int[] sarak = new int[]{0, 1, 0, -1};</span>

<span class="fc bfc" id="L593" title="All 2 branches covered.">        while (!pino.empty()) {</span>

<span class="fc" id="L595">            int[] edellinen = (int[]) pino.pop();</span>

<span class="fc" id="L597">            int luku = lauta[edellinen[0]][edellinen[1]];</span>

<span class="fc bfc" id="L599" title="All 4 branches covered.">            if (luku &gt; 2 &amp;&amp; kaydyt[edellinen[0]][edellinen[1]] == false) {</span>
<span class="fc" id="L600">                int seuraajienmaara = pistetaulu[1][luku - 3];</span>
<span class="fc" id="L601">                pistetaulu[1][luku - 3] = seuraajienmaara + 1;</span>
            }

<span class="fc" id="L604">            kaydyt[edellinen[0]][edellinen[1]] = true;</span>

<span class="fc bfc" id="L606" title="All 2 branches covered.">            for (int i = 0; i &lt; rivit.length; i++) {</span>

<span class="fc" id="L608">                int uusiRivi = edellinen[0] + rivit[i];</span>
<span class="fc" id="L609">                int uusiSarake = edellinen[1] + sarak[i];</span>

<span class="fc bfc" id="L611" title="All 2 branches covered.">                if (voikoMenna(uusiRivi, uusiSarake, lauta.length)) {</span>
<span class="fc bfc" id="L612" title="All 4 branches covered.">                    if (lauta[uusiRivi][uusiSarake] != 0 &amp;&amp; lauta[uusiRivi][uusiSarake] != 1) {</span>
<span class="fc bfc" id="L613" title="All 2 branches covered.">                        if (kaydyt[uusiRivi][uusiSarake] == false) {</span>
<span class="fc" id="L614">                            int[] uusi = new int[]{uusiRivi, uusiSarake};</span>
<span class="fc" id="L615">                            pino.push(uusi);</span>
                        }
                    }
                }
            }
<span class="fc" id="L620">        }</span>
<span class="fc" id="L621">        return pistetaulu;</span>
    }

    /**
     * Funktio laskee ruudun vieressÃ¤ olevien linnojen pisteet yhteen.
     *
     * @param rivi Rivi, jossa ruutu on.
     * @param sarake Sarake, jossa ruutu on.
     * @param lauta Pelitilanne, josta ruutu halutaan.
     * @return Palauttaa kaikkien vieressÃ¤ olevien linnojen pisteiden summan.
     */
    public int viereistenLinnojenPisteet(int rivi, int sarake, int[][] lauta) {

<span class="fc" id="L634">        int pisteet = 0;</span>

<span class="fc" id="L636">        boolean[][] kaydyt = new boolean[lauta.length][lauta.length];</span>

<span class="fc" id="L638">        int[] rivit = new int[]{1, 0, -1, 0};</span>
<span class="fc" id="L639">        int[] sarakkeet = new int[]{0, 1, 0, -1};</span>

<span class="fc bfc" id="L641" title="All 2 branches covered.">        for (int i = 0; i &lt; rivit.length; i++) {</span>

<span class="fc" id="L643">            int uusiRivi = rivi + rivit[i];</span>
<span class="fc" id="L644">            int uusiSarake = sarake + sarakkeet[i];</span>

<span class="fc bfc" id="L646" title="All 2 branches covered.">            if (voikoMenna(uusiRivi, uusiSarake, lauta.length)) {</span>
<span class="fc bfc" id="L647" title="All 4 branches covered.">                if (kaydyt[uusiRivi][uusiSarake] == false &amp;&amp; lauta[uusiRivi][uusiSarake] &gt; 1) {</span>
<span class="fc" id="L648">                    pisteet = pisteet + linnanPisteet(uusiRivi, uusiSarake, lauta);</span>
<span class="fc" id="L649">                    kaydyt = merkitseLinnaPisteytetyksi(uusiRivi, uusiSarake, lauta, kaydyt);</span>
                }
            }

        }

<span class="fc" id="L655">        return pisteet;</span>
    }

    /**
     * Funktio laskee ruudun kulmissa olevien linnojen pisteet yhteen.
     *
     * @param rivi Rivi, jossa ruutu on.
     * @param sarake Sarake, jossa ruutu on.
     * @param lauta Pelitilanne, josta ruutu halutaan.
     * @return Palauttaa kaikkien kulmissa olevien linnojen pisteiden summan.
     */
    public int kulmittaistenLinnojenPisteet(int rivi, int sarake, int[][] lauta) {

<span class="fc" id="L668">        int pisteet = 0;</span>

<span class="fc" id="L670">        boolean[][] kaydyt = new boolean[lauta.length][lauta.length];</span>

<span class="fc" id="L672">        int[] rivit = new int[]{1, 1, -1, -1};</span>
<span class="fc" id="L673">        int[] sarakkeet = new int[]{1, -1, 1, -1};</span>

<span class="fc bfc" id="L675" title="All 2 branches covered.">        for (int i = 0; i &lt; rivit.length; i++) {</span>

<span class="fc" id="L677">            int uusiRivi = rivi + rivit[i];</span>
<span class="fc" id="L678">            int uusiSarake = sarake + sarakkeet[i];</span>

<span class="fc bfc" id="L680" title="All 2 branches covered.">            if (voikoMenna(uusiRivi, uusiSarake, lauta.length)) {</span>
<span class="fc bfc" id="L681" title="All 4 branches covered.">                if (kaydyt[uusiRivi][uusiSarake] == false &amp;&amp; lauta[uusiRivi][uusiSarake] &gt; 1) {</span>
<span class="fc" id="L682">                    pisteet = pisteet + linnanPisteet(uusiRivi, uusiSarake, lauta);</span>
<span class="fc" id="L683">                    kaydyt = merkitseLinnaPisteytetyksi(uusiRivi, uusiSarake, lauta, kaydyt);</span>
                }
            }

        }
<span class="fc" id="L688">        return pisteet;</span>
    }

    /**
     * Funktio laskee pisteiden mÃ¤Ã¤rÃ¤t linnoissa, jotka ovat tÃ¤mÃ¤n ruudun
     * vieressÃ¤ tai kulmissa.
     *
     * @param rivi Rivi, jossa ruutu sijaitsee.
     * @param sarake Sarake, jossa ruutu sijaitsee.
     * @param lauta Pelitilanne ennen pisteiden laskemista.
     * @return Palauttaa kaikkien ruudun vieressÃ¤ ja kulmissa olevien linnojen
     * pisteiden summan.
     */
    public int pisteetVieressaJaKulmissa(int rivi, int sarake, int[][] lauta) {
<span class="fc" id="L702">        int pist = 0;</span>

<span class="fc" id="L704">        boolean[][] kaydyt = new boolean[lauta.length][lauta.length];</span>

<span class="fc" id="L706">        int[] rivit = new int[]{1, -1, -1, 1, 1, 0, -1, 0};</span>
<span class="fc" id="L707">        int[] sarak = new int[]{1, -1, 1, -1, 0, 1, 0, -1};</span>

<span class="fc bfc" id="L709" title="All 2 branches covered.">        for (int i = 0; i &lt; rivit.length; i++) {</span>
<span class="fc" id="L710">            int r = rivi + rivit[i];</span>
<span class="fc" id="L711">            int s = sarake + sarak[i];</span>

<span class="fc bfc" id="L713" title="All 2 branches covered.">            if (voikoMenna(r, s, lauta.length)) {</span>
<span class="fc bfc" id="L714" title="All 4 branches covered.">                if (kaydyt[r][s] == false &amp;&amp; lauta[r][s] &gt; 1) {</span>
<span class="fc" id="L715">                    pist = pist + linnanPisteet(r, s, lauta);</span>
<span class="fc" id="L716">                    kaydyt = merkitseLinnaPisteytetyksi(r, s, lauta, kaydyt);</span>
                }
            }

        }

<span class="fc" id="L722">        return pist;</span>
    }

    /**
     * Funktio seuraajien mÃ¤Ã¤rÃ¤t linnoissa, jotka ovat tÃ¤mÃ¤n ruudun vieressÃ¤ tai
     * kulmissa.
     *
     * @param rivi Rivi, jossa ruutu sijaitsee.
     * @param sarake Sarake, jossa ruutu sijaitsee.
     * @param pelaajat PelissÃ¤ mukana olevat pelaajat.
     * @param lauta Pelitilanne ennen pisteiden laskemista.
     * @return Palauttaa kaikkien ruudun vieressÃ¤ ja kulmissa olevien linnojen
     * seuraajien mÃ¤Ã¤rÃ¤n. Palautus on kaksiulotteinen taulu, jonka ensimmÃ¤isellÃ¤
     * rivillÃ¤ on pelaaja ja toisella pelaajan seuraajat.
     */
    public int[][] seuraajatVieressaJaKulmissa(int rivi, int sarake, int[] pelaajat, int[][] lauta) {

<span class="fc" id="L739">        boolean[][] kaydyt = new boolean[lauta.length][lauta.length];</span>

<span class="fc" id="L741">        int[][] pistetaulu = luoPistetaulu(pelaajat);</span>

<span class="fc" id="L743">        int[] rivit = new int[]{1, -1, -1, 1, 1, 0, -1, 0};</span>
<span class="fc" id="L744">        int[] sarak = new int[]{1, -1, 1, -1, 0, 1, 0, -1};</span>

<span class="fc bfc" id="L746" title="All 2 branches covered.">        for (int i = 0; i &lt; rivit.length; i++) {</span>
<span class="fc" id="L747">            int r = rivi + rivit[i];</span>
<span class="fc" id="L748">            int s = sarake + sarak[i];</span>

<span class="fc bfc" id="L750" title="All 2 branches covered.">            if (voikoMenna(r, s, lauta.length)) {</span>

<span class="fc bfc" id="L752" title="All 4 branches covered.">                if (kaydyt[r][s] == false &amp;&amp; lauta[r][s] &gt; 1) {</span>

<span class="fc" id="L754">                    int[][] p = linnassaOlevatSeuraajat(r, s, pelaajat, lauta);</span>

<span class="fc" id="L756">                    kaydyt = merkitseLinnaPisteytetyksi(r, s, lauta, kaydyt);</span>

<span class="fc bfc" id="L758" title="All 2 branches covered.">                    for (int j = 0; j &lt; pelaajat.length; j++) {</span>
<span class="fc" id="L759">                        int x = pistetaulu[1][j];</span>
<span class="fc" id="L760">                        pistetaulu[1][j] = x + p[1][j];</span>
                    }

                }

            }

        }

<span class="fc" id="L769">        return pistetaulu;</span>
    }

    /**
     * Funktio kertoo ruudun vieressÃ¤ olevien linnojen seuraajien yhteismÃ¤Ã¤rÃ¤n.
     *
     * @param rivi Rivi, jonka vieressÃ¤ haluttu ruutu on.
     * @param sarake Sarake, jonka vieressÃ¤ haluttu ruutu on.
     * @param pelaajat PelissÃ¤ mukana olevat pelaajat.
     * @param lauta Pelitilanne.
     * @return Palautus on kaksiulotteinen taulu, jonka ensimmÃ¤isellÃ¤ rivillÃ¤ on
     * pelaaja ja toisella pelaajan seuraajat.
     */
    public int[][] ruudunViereistenLinnojenSeuraajat(int rivi, int sarake, int[] pelaajat, int[][] lauta) {

<span class="fc" id="L784">        boolean[][] kaydyt = new boolean[lauta.length][lauta.length];</span>

<span class="fc" id="L786">        int[][] pistetaulu = luoPistetaulu(pelaajat);</span>

<span class="fc" id="L788">        int[] rivit = new int[]{1, 0, -1, 0};</span>
<span class="fc" id="L789">        int[] sarak = new int[]{0, 1, 0, -1};</span>

<span class="fc bfc" id="L791" title="All 2 branches covered.">        for (int i = 0; i &lt; rivit.length; i++) {</span>
<span class="fc" id="L792">            int r = rivi + rivit[i];</span>
<span class="fc" id="L793">            int s = sarake + sarak[i];</span>

<span class="fc bfc" id="L795" title="All 2 branches covered.">            if (voikoMenna(r, s, lauta.length)) {</span>
<span class="fc bfc" id="L796" title="All 4 branches covered.">                if (kaydyt[r][s] == false &amp;&amp; lauta[r][s] &gt; 1) {</span>
<span class="fc" id="L797">                    int[][] p = linnassaOlevatSeuraajat(r, s, pelaajat, lauta);</span>
<span class="fc" id="L798">                    kaydyt = merkitseLinnaPisteytetyksi(r, s, lauta, kaydyt);</span>
<span class="fc bfc" id="L799" title="All 2 branches covered.">                    for (int j = 0; j &lt; pelaajat.length; j++) {</span>
<span class="fc" id="L800">                        int x = pistetaulu[1][j];</span>
<span class="fc" id="L801">                        pistetaulu[1][j] = x + p[1][j];</span>
                    }
                }
            }
        }
<span class="fc" id="L806">        return pistetaulu;</span>
    }

    /**
     * Funktio laskee ruudun kulmassa olevien linnojen seuraajien mÃ¤Ã¤rÃ¤t.
     *
     * @param rivi Rivi, jossa aloitusruutu sijaitsee.
     * @param sarake Sarake, jossa aloitusruutu sijaitsee.
     * @param pelaajat PelissÃ¤ mukana olevat pelaajat.
     * @param lauta Pelitilanne.
     * @return Funktio palauttaa kaksiulotteisen taulukon, jonka ensimmÃ¤isellÃ¤
     * rivillÃ¤ on pelaajien numerot ja toisella kulmissa olevien linnojen
     * seuraajien yhteenlaskettu mÃ¤Ã¤rÃ¤.
     */
    public int[][] seuraajatKulmittainLinnoissa(int rivi, int sarake, int[] pelaajat, int[][] lauta) {

<span class="fc" id="L822">        boolean[][] kaydyt = new boolean[lauta.length][lauta.length];</span>

<span class="fc" id="L824">        int[][] pistetaulu = luoPistetaulu(pelaajat);</span>

<span class="fc" id="L826">        int[] rivit = new int[]{1, -1, -1, 1};</span>
<span class="fc" id="L827">        int[] sarak = new int[]{1, -1, 1, -1};</span>

<span class="fc bfc" id="L829" title="All 2 branches covered.">        for (int i = 0; i &lt; rivit.length; i++) {</span>
<span class="fc" id="L830">            int r = rivi + rivit[i];</span>
<span class="fc" id="L831">            int s = sarake + sarak[i];</span>

<span class="fc bfc" id="L833" title="All 2 branches covered.">            if (voikoMenna(r, s, lauta.length)) {</span>

<span class="fc bfc" id="L835" title="All 4 branches covered.">                if (kaydyt[r][s] == false &amp;&amp; lauta[r][s] &gt; 1) {</span>
<span class="fc" id="L836">                    int[][] p = linnassaOlevatSeuraajat(r, s, pelaajat, lauta);</span>
<span class="fc" id="L837">                    kaydyt = merkitseLinnaPisteytetyksi(r, s, lauta, kaydyt);</span>
<span class="fc bfc" id="L838" title="All 2 branches covered.">                    for (int j = 0; j &lt; pelaajat.length; j++) {</span>
<span class="fc" id="L839">                        int x = pistetaulu[1][j];</span>
<span class="fc" id="L840">                        pistetaulu[1][j] = x + p[1][j];</span>
                    }
                }
            }
        }
<span class="fc" id="L845">        return pistetaulu;</span>
    }

    /**
     * Funktio kertoo onko ruudun kulmassa tai vieressÃ¤ linna.
     *
     * @param rivi Rivi, jossa kohteena oleva ruutu on.
     * @param sarake Sarake, jossa kohteena oleva ruutu on.
     * @param lauta Pelitilanne ennn funktion kutsumista.
     * @return Palauttaa arvon true, jos jossain ruudun kulmassa tai vieressÃ¤ on
     * linna.
     */
    public boolean kulmassaTaiVieressaOnLinna(int rivi, int sarake, int[][] lauta) {

<span class="fc" id="L859">        int[] rivit = new int[]{1, -1, -1, 1, 1, 0, -1, 0};</span>
<span class="fc" id="L860">        int[] sarakkeet = new int[]{1, -1, 1, -1, 0, 1, 0, -1};</span>

<span class="fc bfc" id="L862" title="All 2 branches covered.">        for (int i = 0; i &lt; rivit.length; i++) {</span>

<span class="fc" id="L864">            int uusiRivi = rivi + rivit[i];</span>
<span class="fc" id="L865">            int uusiSarake = sarake + sarakkeet[i];</span>

<span class="fc bfc" id="L867" title="All 2 branches covered.">            if (voikoMenna(uusiRivi, uusiSarake, lauta.length)) {</span>
<span class="fc bfc" id="L868" title="All 2 branches covered.">                if (lauta[uusiRivi][uusiSarake] &gt; 1) {</span>
<span class="fc" id="L869">                    return true;</span>
                }
            }

        }

<span class="fc" id="L875">        return false;</span>

    }

    /**
     * Funktio kertoo onko annetun ruudun jossain kulmassa linna.
     *
     * @param rivi Rivi, jossa kohderuutu on.
     * @param sarake Sarake, jossa kohderuutu on.
     * @param lauta Pelitilanne ennen funktion kutsumista.
     * @return Palauttaa arvon true, jos ruudun kulmasta lÃ¶ytyy linna.
     */
    public boolean kulmassaOnLinna(int rivi, int sarake, int[][] lauta) {

<span class="fc" id="L889">        int[] rivit = new int[]{1, -1, -1, 1};</span>
<span class="fc" id="L890">        int[] sarakkeet = new int[]{1, -1, 1, -1};</span>

<span class="fc bfc" id="L892" title="All 2 branches covered.">        for (int i = 0; i &lt; rivit.length; i++) {</span>

<span class="fc" id="L894">            int uusiRivi = rivi + rivit[i];</span>
<span class="fc" id="L895">            int uusiSarake = sarake + sarakkeet[i];</span>

<span class="fc bfc" id="L897" title="All 2 branches covered.">            if (voikoMenna(uusiRivi, uusiSarake, lauta.length)) {</span>
<span class="fc bfc" id="L898" title="All 2 branches covered.">                if (lauta[uusiRivi][uusiSarake] &gt; 1) {</span>
<span class="fc" id="L899">                    return true;</span>
                }
            }

        }

<span class="fc" id="L905">        return false;</span>
    }

    /**
     * Kertoo onko ruudun vieressÃ¤ linna.
     *
     * @param rivi Rivi, jossa kohderuutu on.
     * @param sarake Sarake, jossa kohderuutu on.
     * @param lauta Pelitilanne ennen funktion kutsumista.
     * @return Palauttaa arvon true, jossain viereisistÃ¤ ruuduista on linna.
     */
    public boolean vieressaOnLinna(int rivi, int sarake, int[][] lauta) {

<span class="fc" id="L918">        int[] rivit = new int[]{1, 0, -1, 0};</span>
<span class="fc" id="L919">        int[] sarakkeet = new int[]{0, 1, 0, -1};</span>

<span class="fc bfc" id="L921" title="All 2 branches covered.">        for (int i = 0; i &lt; rivit.length; i++) {</span>

<span class="fc" id="L923">            int uusiRivi = rivi + rivit[i];</span>
<span class="fc" id="L924">            int uusiSarake = sarake + sarakkeet[i];</span>

<span class="fc bfc" id="L926" title="All 2 branches covered.">            if (voikoMenna(uusiRivi, uusiSarake, lauta.length)) {</span>
<span class="fc bfc" id="L927" title="All 2 branches covered.">                if (lauta[uusiRivi][uusiSarake] &gt; 1) {</span>
<span class="fc" id="L928">                    return true;</span>
                }
            }

        }

<span class="fc" id="L934">        return false;</span>
    }

    /**
     * Kopioi parametrina annetun kaksiulotteisen pistetaulun.
     *
     * @param pelaajat PelissÃ¤ mukana olevat pelaajat.
     * @param kopioitava Taulu, joka pitÃ¤Ã¤ kopioida.
     * @return Palauttaa kopion syÃ¶tetystÃ¤ taulusta.
     */
    public int[][] kopioiPisteTaulu(int[] pelaajat, int[][] kopioitava) {

<span class="fc" id="L946">        int[][] kopio = luoPistetaulu(pelaajat);</span>

<span class="fc bfc" id="L948" title="All 2 branches covered.">        for (int i = 0; i &lt; pelaajat.length; i++) {</span>
<span class="fc" id="L949">            kopio[1][i] = kopioitava[1][i];</span>
        }

<span class="fc" id="L952">        return kopio;</span>
    }

    /**
     * Kopioi listan pelilaudoista.
     *
     * @param laudat Lista pelilaudoista.
     * @return Palauttaa kopion pelilautalistasta.
     */
    public Lista kopioiLautaLista(Lista laudat) {

<span class="fc" id="L963">        Lista kopio = new Lista();</span>

<span class="fc bfc" id="L965" title="All 2 branches covered.">        for (int i = 0; i &lt; laudat.size(); i++) {</span>
<span class="fc" id="L966">            kopio.add(laudat.get(i));</span>
        }

<span class="fc" id="L969">        return kopio;</span>
    }

    /**
     * Korvaa pistetaulun pisteet mielivaltaisella vakiolla.
     *
     * @param pelaajat PelissÃ¤ mukana olevat pelaajat.
     * @param pisteet Taulu, jossa on pelaajien pisteet.
     * @param arvo Arvo, johon pisteet tulee asettaa.
     * @return Palauttaa taulun, jossa pisteet on korvattu vakiolla.
     */
    public int[][] lisaaPisteitaVakiomaara(int[] pelaajat, int[][] pisteet, int arvo) {

<span class="fc bfc" id="L982" title="All 2 branches covered.">        for (int i = 0; i &lt; pelaajat.length; i++) {</span>
<span class="fc" id="L983">            pisteet[1][i] = arvo;</span>
        }

<span class="fc" id="L986">        return pisteet;</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.6.201602180812</span></div></body></html>